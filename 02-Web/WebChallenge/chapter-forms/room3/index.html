<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forms Room 3 - Form Styling</title>
    <link rel="stylesheet" href="../../game-styles.css">
</head>
<body>
    <div id="game-container"></div>

    <script src="../../progress.js"></script>
    <script src="../../game-engine.js"></script>
    <script>
        startRoom({
            chapterId: 'chapter-forms',
            roomId: 'room3',
            title: 'ðŸŽ¨ Style the Form',
            description: 'Add proper styling to form inputs',
            instructions: `The form inputs look cramped! Add <code>padding</code> (at least 10px) to the input and textarea to make them more comfortable to use.`,

            htmlEditable: false,
            cssEditable: true,

            initialHTML: `<form class="styled-form">
    <div class="form-group">
        <label for="fullname">Full Name</label>
        <input type="text" id="fullname" name="fullname" placeholder="John Doe">
    </div>

    <div class="form-group">
        <label for="message">Message</label>
        <textarea id="message" name="message" rows="4" placeholder="Your message..."></textarea>
    </div>

    <button type="submit" class="submit-btn">Send Message</button>
</form>`,

            initialCSS: `/* Add padding to inputs */
.styled-form {
    max-width: 350px;
}

.form-group {
    margin-bottom: 20px;
}

label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: #2c3e50;
}

input, textarea {
    width: 100%;
    border: 2px solid #ddd;
    border-radius: 6px;
    font-size: 16px;
    box-sizing: border-box;
    padding: 2px;
}

.submit-btn {
    background: #3498db;
    color: white;
    border: none;
    padding: 12px 30px;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
}

.submit-btn:hover {
    background: #2980b9;
}`,

            hints: [
                'Find the input, textarea rule',
                'Change <code>padding: 2px;</code> to at least <code>padding: 10px;</code>',
                'Try <code>padding: 12px;</code> for a comfortable feel'
            ],

            validate: function({ doc, css }) {
                const input = doc.querySelector('input');
                const textarea = doc.querySelector('textarea');

                if (!input || !textarea) {
                    return { success: false, message: 'Form elements not found!' };
                }

                const inputStyle = doc.defaultView.getComputedStyle(input);
                const textareaStyle = doc.defaultView.getComputedStyle(textarea);

                const inputPadding = parseInt(inputStyle.paddingTop) || parseInt(inputStyle.padding);
                const textareaPadding = parseInt(textareaStyle.paddingTop) || parseInt(textareaStyle.padding);

                if (inputPadding < 10 || textareaPadding < 10) {
                    return { success: false, message: 'Add more padding to inputs! At least 10px.' };
                }

                return { success: true };
            }
        });
    </script>
</body>
</html>
